{% extends "base.html" %}

{% block title %}Главная{% endblock %}

{% block content %}
<div class="py-5">
    <section class="mb-5" data-aos="fade-up">
        <div class="surface-panel p-4 p-lg-5">
            <div class="row g-4 align-items-center">
                <div class="col-lg-7">
                    <h1 class="display-5 fw-bold text-dark mb-3">Система управления инвентарём и задачами</h1>
                    <p class="text-secondary mb-4">Единый интерфейс для регистрации оборудования, планирования задач и
                        контроля исполнения. Подходит для компаний любого масштаба: от небольших команд до
                        распределённых подразделений.</p>
                    <div class="d-flex flex-column flex-sm-row gap-3">
                        {% if user.is_authenticated %}
                        <a href="{% url 'tasks:board' %}" class="btn btn-primary btn-lg px-4">Открыть рабочее
                            пространство</a>
                        <a href="{% url 'inventory:asset_list' %}" class="btn btn-outline-dark btn-lg px-4">Каталог
                            оборудования</a>
                        {% else %}
                        <a href="{% url 'accounts:register' %}" class="btn btn-primary btn-lg px-4">Создать рабочее
                            пространство</a>
                        <a href="{% url 'accounts:login' %}" class="btn btn-outline-dark btn-lg px-4">Войти</a>
                        {% endif %}
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="glassy-card p-4 bg-primary text-white rounded-4 shadow-sm">
                        <h5 class="mb-3">Текущее состояние</h5>
                        <dl class="row mb-0">
                            <dt class="col-7"><i class="bi bi-kanban me-2"></i>Активных задач</dt>
                            <dd class="col-5 fw-semibold">{{ homepage.task_count|default:0 }}</dd>
                            <dt class="col-7"><i class="bi bi-laptop me-2"></i>Оборудование под контролем</dt>
                            <dd class="col-5 fw-semibold">{{ homepage.asset_count|default:0 }}</dd>
                            <dt class="col-7"><i class="bi bi-gear-wide-connected me-2"></i>Запланировано обслуживаний
                            </dt>
                            <dd class="col-5 fw-semibold">{{ homepage.maintenance_planned|default:0 }}</dd>
                        </dl>
                        <hr class="border-light">
                        <div class="d-flex gap-2">
                            <a href="{% url 'accounts:team_directory' %}"
                                class="btn btn-outline-light flex-fill">Команда</a>
                            <a href="{% url 'tasks:board' %}" class="btn btn-light flex-fill">Перейти к задачам</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="mb-5" data-aos="fade-up" data-aos-delay="100">
        <div class="surface-panel p-4 p-lg-5">
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="feature-card h-100 p-4">
                        <h5 class="fw-semibold text-dark">Инвентарь без хаоса</h5>
                        <p class="text-secondary">Категории, локации, поставщики и обслуживание в одном интерфейсе.
                            Быстрый поиск иконками, фильтры по статусу и истории.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card h-100 p-4">
                        <h5 class="fw-semibold text-dark">Рабочие процессы</h5>
                        <p class="text-secondary">Создание и управление задачами, контроль сроков, автоматические
                            уведомления и чек-листы для команды.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card h-100 p-4">
                        <h5 class="fw-semibold text-dark">Прозрачная аналитика</h5>
                        <p class="text-secondary">Ключевые метрики по активным задачам и оборудованию доступны сразу
                            после входа.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="workflow-section py-5" data-aos="fade-up">
        <div class="surface-panel px-4 px-lg-5 py-5">
            <div class="row g-5 align-items-center">
                <div class="col-lg-6">
                    <h2 class="fw-bold text-dark">Чёткий процесс от заявки до выдачи</h2>
                    <p class="text-secondary mb-4">Наша система поддерживает весь цикл: регистрация запросов, подбор
                        оборудования, контроль выполнения и итоговая аналитика. Каждому этапу отвечает своё
                        представление.</p>
                    <ul class="list-unstyled d-flex flex-column gap-3">
                        <li class="d-flex align-items-start gap-3">
                            <div class="step-index">1</div>
                            <div>
                                <strong>Фиксация заявки</strong>
                                <div class="text-secondary">Создайте задачу вручную или импортируйте из почты/чатов.
                                </div>
                            </div>
                        </li>
                        <li class="d-flex align-items-start gap-3">
                            <div class="step-index">2</div>
                            <div>
                                <strong>Подбор ресурсов</strong>
                                <div class="text-secondary">Под рукой актуальные данные инвентаря, статус обслуживания и
                                    ответственные.</div>
                            </div>
                        </li>
                        <li class="d-flex align-items-start gap-3">
                            <div class="step-index">3</div>
                            <div>
                                <strong>Контроль исполнения</strong>
                                <div class="text-secondary">Отчёты, комментарии, файлы и чек-листы — всё в контексте
                                    задачи.</div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="col-lg-6" data-aos="zoom-in" data-aos-delay="150">
                    <div class="glassy-card p-4 p-lg-5 bg-primary text-white rounded-4 shadow-sm">
                        <h5 class="mb-4">Примеры активности</h5>
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-badge bg-light"></div>
                                <div>
                                    <strong>Задача «Выдать ноутбуки» обновлена</strong>
                                    <div class="small text-white-50">Назначена: отдел ИТ</div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-badge bg-light"></div>
                                <div>
                                    <strong>Инвентарь «MacBook Pro 14» выдан</strong>
                                    <div class="small text-white-50">Ответственный: Мария Сидорова</div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-badge bg-light"></div>
                                <div>
                                    <strong>Запланировано обслуживание склада</strong>
                                    <div class="small text-white-50">Дата: 
                                        {{homepage.next_maintenance|date:"d.m.Y"|default:"—" }}</div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-badge bg-light"></div>
                                <div>
                                    <strong>Добавлен новый участник</strong>
                                    <div class="small text-white-50">Статистика команды обновлена</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
</div>
</section>
</div>

{% endblock %}